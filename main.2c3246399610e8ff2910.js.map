{"version":3,"file":"main.2c3246399610e8ff2910.js","mappings":"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","sources":["webpack://d-element/./src/modal_class.js","webpack://d-element/./src/api/fetch_api.js","webpack://d-element/./src/modal.js"],"sourcesContent":["export class Modal {\r\n\r\n    constructor(form, body, popUpWindow, overlayWindow, modalWindow, fetch_api) {\r\n        this.form = form\r\n        this.body = body\r\n        this.popUpWindow = popUpWindow\r\n        this.overlayWindow = overlayWindow\r\n        this.modalWindow = modalWindow\r\n        this.fetchApi = fetch_api\r\n        this.modalOpen = this.modalOpen.bind(this)\r\n        this.allClose = this.allClose.bind(this)\r\n        this.modalClose = this.modalClose.bind(this)\r\n        this.formAddError = this.formAddError.bind(this)\r\n        this.formRemoveError = this.formRemoveError.bind(this)\r\n        this.emailValidate = this.emailValidate.bind(this)\r\n        this.clearForm = this.clearForm.bind(this)\r\n        this.popupWindowCloseTimeout = this.popupWindowCloseTimeout.bind(this)\r\n        this.popupOpen = this.popupOpen.bind(this)\r\n        this.formValidate = this.formValidate.bind(this)\r\n    }\r\n\r\n    modalOpen() {\r\n        this.overlayWindow.classList.add(\"overlay-open\");\r\n        this.modalWindow.classList.add(\"lets_talk_modal-open\");\r\n        this.body.setAttribute(\"style\", \"overflow:hidden; height:100vh;\");\r\n        this.overlayWindow.addEventListener(\"click\", this.allClose);\r\n        this.modalWindow.addEventListener(\"click\", (e) => e.stopPropagation());\r\n    }\r\n\r\n    allClose() {\r\n        this.overlayWindow.classList.remove(\"overlay-open\");\r\n        this.body.removeAttribute(\"style\");\r\n        this.modalWindow.classList.remove(\"lets_talk_modal-open\");\r\n        this.overlayWindow.removeEventListener(\"click\", this.allClose);\r\n        this.modalWindow.removeEventListener(\"click\", (e) => e.stopPropagation());\r\n    }\r\n\r\n    modalClose(modalWindowNode) {\r\n        modalWindowNode.classList.remove(\"lets_talk_modal-open\");\r\n    }\r\n\r\n    formAddError(input, message) {\r\n        const p = input.previousSibling\r\n        p.innerText = message\r\n        input.previousSibling.classList.add(\"_error\")\r\n        input.classList.add(\"_error\")\r\n    }\r\n\r\n    formRemoveError(input) {\r\n        input.previousSibling.classList.remove(\"_error\")\r\n        input.classList.remove(\"_error\")\r\n    }\r\n\r\n    emailValidate(input) {\r\n        return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(input.value)\r\n    }\r\n\r\n    clearForm(formReqField) {\r\n        formReqField.forEach(item => item.value = \"\")\r\n    }\r\n\r\n    popupWindowCloseTimeout(popUpWindow) {\r\n        setTimeout(() => {\r\n            popUpWindow.classList.remove(\"popUp-open\")\r\n        }, 3000)\r\n    }\r\n\r\n    popupOpen(popupNode) {\r\n        popupNode.classList.add(\"popUp-open\")\r\n    }\r\n\r\n    formValidate(form) {\r\n        let error = 0;\r\n        let formReqField = form.querySelectorAll(\"._req\");\r\n        const formDate = {\r\n            name: formReqField[0]?.value,\r\n            email: formReqField[1]?.value,\r\n            message: formReqField[2].value\r\n        };\r\n        formReqField.forEach((item) => {\r\n            if (!item.value.length) {\r\n                this.formAddError(item, `${item.name} is require!`)\r\n                error = 1\r\n            } else {\r\n                this.formRemoveError(item)\r\n            }\r\n\r\n            if (item.name === \"email\") {\r\n                if (!this.emailValidate(item)) {\r\n                    this.formAddError(item, \"Not valid email\")\r\n                    error = 1\r\n                } else {\r\n                    this.formRemoveError(item)\r\n                }\r\n            }\r\n            if (item.name === \"message\" && item.value.length > 256) {\r\n                if (!item.value.length < 256) {\r\n                    this.formAddError(item, \"Message must be short of 256 symbols\")\r\n                    error = 1\r\n                } else {\r\n                    this.formRemoveError(item)\r\n                }\r\n            }\r\n        })\r\n        if (error <= 0) {\r\n            this.fetchApi.postData(\"http://localhost:8080\", formDate)\r\n            this.modalClose(this.modalWindow)\r\n            this.clearForm(formReqField)\r\n            this.allClose()\r\n            this.popupOpen(this.popUpWindow)\r\n            this.popupWindowCloseTimeout(this.popUpWindow)\r\n        }\r\n    }\r\n\r\n}","export const fetch_api = {\r\n    postData(url, data) {\r\n        fetch(url, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data)\r\n        }).then(data => data)\r\n    }\r\n}","import {Modal} from \"./modal_class\";\r\nimport {fetch_api} from \"./api/fetch_api\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\r\n\r\n    const form = document.querySelector(\".form\");\r\n    const body = document.querySelector(\"body\");\r\n    const popUpWindow = document.querySelector(\".popUp\");\r\n    const overlayWindow = document.querySelector(\".overlay\");\r\n    const modalWindow = document.querySelector(\".lets_talk_modal\");\r\n    const letsTalkButton = document.querySelector(\".lets_talk_block__button\");\r\n    const modalWindowCloseButton = document.querySelector(\".lets_talk_modal__close_button\");\r\n\r\n\r\n    const modal = new Modal(form, body, popUpWindow, overlayWindow, modalWindow, fetch_api)\r\n\r\n    letsTalkButton.addEventListener(\"click\", modal.modalOpen);\r\n    modalWindowCloseButton.addEventListener(\"click\", modal.allClose);\r\n\r\n    form.addEventListener(\"submit\", async (e) => {\r\n            e.preventDefault();\r\n            modal.formValidate(form);\r\n        }\r\n    );\r\n\r\n});\r\n"],"names":["Modal","form","body","popUpWindow","overlayWindow","modalWindow","fetch_api","this","fetchApi","modalOpen","bind","allClose","modalClose","formAddError","formRemoveError","emailValidate","clearForm","popupWindowCloseTimeout","popupOpen","formValidate","classList","add","setAttribute","addEventListener","e","stopPropagation","remove","removeAttribute","removeEventListener","modalWindowNode","input","message","previousSibling","innerText","test","value","formReqField","forEach","item","setTimeout","popupNode","error","querySelectorAll","formDate","name","email","length","postData","url","data","fetch","method","JSON","stringify","then","i","document","event","querySelector","letsTalkButton","modalWindowCloseButton","modal","preventDefault"],"sourceRoot":""}