{"version":3,"file":"main.2fedcf961556a445f29f.js","mappings":"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","sources":["webpack://d-element/./src/modal_class.js","webpack://d-element/./src/api/fetch_api.js","webpack://d-element/./src/modal.js"],"sourcesContent":["export class Modal {\r\n\r\n    constructor(form, body, popUpWindow, overlayWindow, modalWindow, fetch_api) {\r\n        this.form = form\r\n        this.body = body\r\n        this.popUpWindow = popUpWindow\r\n        this.overlayWindow = overlayWindow\r\n        this.modalWindow = modalWindow\r\n        this.fetchApi = fetch_api\r\n    }\r\n\r\n    modalOpen = () => {\r\n        this.overlayWindow.classList.add(\"overlay-open\");\r\n        this.modalWindow.classList.add(\"lets_talk_modal-open\");\r\n        this.body.setAttribute(\"style\", \"overflow:hidden; height:100vh;\");\r\n        this.overlayWindow.addEventListener(\"click\", this.allClose);\r\n        this.modalWindow.addEventListener(\"click\", (e) => e.stopPropagation());\r\n    }\r\n\r\n    allClose= () => {\r\n        this.overlayWindow.classList.remove(\"overlay-open\");\r\n        this.body.removeAttribute(\"style\");\r\n        this.modalWindow.classList.remove(\"lets_talk_modal-open\");\r\n        this.overlayWindow.removeEventListener(\"click\", this.allClose);\r\n        this.modalWindow.removeEventListener(\"click\", (e) => e.stopPropagation());\r\n    }\r\n\r\n    modalClose = (modalWindowNode) => {\r\n        modalWindowNode.classList.remove(\"lets_talk_modal-open\");\r\n    }\r\n\r\n    formAddError = (input, message) => {\r\n        const p = input.previousSibling\r\n        p.innerText = message\r\n        input.previousSibling.classList.add(\"_error\")\r\n        input.classList.add(\"_error\")\r\n    }\r\n\r\n    formRemoveError = (input) => {\r\n        input.previousSibling.classList.remove(\"_error\")\r\n        input.classList.remove(\"_error\")\r\n    }\r\n\r\n    emailValidate = (input) => {\r\n        return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(input.value)\r\n    }\r\n\r\n    clearForm = (formReqField) => {\r\n        formReqField.forEach(item => item.value = \"\")\r\n    }\r\n\r\n    popupWindowCloseTimeout = (popUpWindow) => {\r\n        setTimeout(() => {\r\n            popUpWindow.classList.remove(\"popUp-open\")\r\n        }, 3000)\r\n    }\r\n\r\n    popupOpen = (popupNode) => {\r\n        popupNode.classList.add(\"popUp-open\")\r\n    }\r\n\r\n    formValidate = (form) => {\r\n        let error = 0;\r\n        let formReqField = form.querySelectorAll(\"._req\");\r\n        const formDate = {\r\n            name: formReqField[0]?.value,\r\n            email: formReqField[1]?.value,\r\n            message: formReqField[2].value\r\n        };\r\n        formReqField.forEach((item) => {\r\n            if (!item.value.length) {\r\n                this.formAddError(item, `${item.name} is require!`)\r\n                error = 1\r\n            } else {\r\n                this.formRemoveError(item)\r\n            }\r\n\r\n            if (item.name === \"email\"&& item.value) {\r\n                if (!this.emailValidate(item)) {\r\n                    this.formAddError(item, \"Not valid email\")\r\n                    error = 1\r\n                } else {\r\n                    this.formRemoveError(item)\r\n                }\r\n            }\r\n            if (item.name === \"message\" && item.value.length > 256) {\r\n                if (!item.value.length < 256) {\r\n                    this.formAddError(item, \"Message must be short of 256 symbols\")\r\n                    error = 1\r\n                } else {\r\n                    this.formRemoveError(item)\r\n                }\r\n            }\r\n        })\r\n        if (error <= 0) {\r\n            this.fetchApi.postData(\"http://localhost:8080\", formDate)\r\n            this.modalClose(this.modalWindow)\r\n            this.clearForm(formReqField)\r\n            this.allClose()\r\n            this.popupOpen(this.popUpWindow)\r\n            this.popupWindowCloseTimeout(this.popUpWindow)\r\n        }\r\n    }\r\n\r\n}","export const fetch_api = {\r\n    postData(url, data) {\r\n        fetch(url, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data)\r\n        }).then(data => data)\r\n    }\r\n}","import {Modal} from \"./modal_class\";\r\nimport {fetch_api} from \"./api/fetch_api\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\r\n\r\n    const form = document.querySelector(\".form\");\r\n    const body = document.querySelector(\"body\");\r\n    const popUpWindow = document.querySelector(\".popUp\");\r\n    const overlayWindow = document.querySelector(\".overlay\");\r\n    const modalWindow = document.querySelector(\".lets_talk_modal\");\r\n    const letsTalkButton = document.querySelector(\".lets_talk_block__button\");\r\n    const modalWindowCloseButton = document.querySelector(\".lets_talk_modal__close_button\");\r\n\r\n\r\n    const modal = new Modal(form, body, popUpWindow, overlayWindow, modalWindow, fetch_api)\r\n\r\n    letsTalkButton.addEventListener(\"click\", modal.modalOpen);\r\n    modalWindowCloseButton.addEventListener(\"click\", modal.allClose);\r\n\r\n    form.addEventListener(\"submit\", async (e) => {\r\n            e.preventDefault();\r\n            modal.formValidate(form);\r\n        }\r\n    );\r\n\r\n});\r\n"],"names":["Modal","form","body","popUpWindow","overlayWindow","modalWindow","fetch_api","classList","add","setAttribute","addEventListener","allClose","e","stopPropagation","remove","removeAttribute","removeEventListener","modalWindowNode","input","message","previousSibling","innerText","test","value","formReqField","forEach","item","setTimeout","popupNode","error","querySelectorAll","formDate","name","email","length","formRemoveError","formAddError","emailValidate","fetchApi","postData","modalClose","clearForm","popupOpen","popupWindowCloseTimeout","this","url","data","fetch","method","JSON","stringify","then","i","document","event","querySelector","letsTalkButton","modalWindowCloseButton","modal","modalOpen","preventDefault","formValidate"],"sourceRoot":""}